var json =
{"license_title": "Datenlizenz Deutschland Namensnennung 1.0", "maintainer": "Statistisches Bundesamt", "private": false, "maintainer_email": "poststelle@destatis.de", "num_tags": 2, "id": "0f48a677-28b1-5a6b-bfef-0234e4423ad4", "metadata_created": "2014-10-22T12:32:59.917085", "relationships": [], "license": "Datenlizenz Deutschland Namensnennung 1.0", "metadata_modified": "2014-10-29T11:38:35.365267", "author": "Statistisches Bundesamt", "author_email": "poststelle@destatis.de", "download_url": "https://www-genesis.destatis.de/genesis/online?sequenz=tabelleDownload&selectionname=12211-0112&regionalschluessel=&format=csv", "state": "active", "version": null, "creator_user_id": "f512f73d-bed2-439d-8f6f-3fbc6048b24e", "type": "datensatz", "resources": [{"cache_last_updated": null, "package_id": "0f48a677-28b1-5a6b-bfef-0234e4423ad4", "webstore_last_updated": null, "id": "2926f810-709c-4275-9292-a97fa99b880c", "size": null, "last_modified": null, "hash": "", "description": "CSV-Datei der Tabelle '12211-0112'", "format": "csv", "mimetype_inner": null, "url_type": null, "mimetype": null, "cache_url": null, "name": null, "language": "de", "created": "2014-10-29T12:38:35.438847", "url": "https://www-genesis.destatis.de/genesis/online?sequenz=tabelleDownload&selectionname=12211-0112&regionalschluessel=&format=csv", "webstore_url": null, "position": 0, "resource_type": null}, {"cache_last_updated": null, "package_id": "0f48a677-28b1-5a6b-bfef-0234e4423ad4", "webstore_last_updated": null, "id": "7af980f2-9678-4146-b323-8059dc1df269", "size": null, "last_modified": null, "hash": "", "description": "XLSX-Datei der Tabelle '12211-0112'", "format": "xlsx", "mimetype_inner": null, "url_type": null, "mimetype": null, "cache_url": null, "name": null, "language": "de", "created": "2014-10-29T12:38:35.438879", "url": "https://www-genesis.destatis.de/genesis/online?sequenz=tabelleDownload&selectionname=12211-0112&regionalschluessel=&format=xlsx", "webstore_url": null, "position": 1, "resource_type": null}], "num_resources": 2, "tags": ["fruheres-bundesgebiet", "neue-lander"], "groups": ["bevoelkerung"], "license_id": "dl-de-by-1.0", "organization": null, "name": "destatis-service-12211-0112-test-test", "isopen": true, "notes_rendered": "<p>Privathaushalte: Fr\u00fcheres Bundesgebiet / Neue L\u00e4nder, Jahre, Haushaltsgr\u00f6\u00dfe\n</p>", "url": "https://www-genesis.destatis.de/genesis/online?sequenz=tabelleErgebnis&selectionname=12211-0112&regionalschluessel=", "ckan_url": "ckan.govdata-prod.cb-noris.hosting.seitenbau.net/dataset/destatis-service-12211-0112-test-test", "notes": "Privathaushalte: Fr\u00fcheres Bundesgebiet / Neue L\u00e4nder, Jahre, Haushaltsgr\u00f6\u00dfe", "owner_org": null, "ratings_average": null, "extras": {"sector": "oeffentlich", "temporal_coverage_from": "1991-2012", "dates": "[{\"date\": \"11.07.2013\", \"role\": \"veroeffentlicht\"}, {\"date\": \"11.07.2013\", \"role\": \"erstellt\"}]", "geographical_granularity": "bund", "ogd_version": "v1.1", "metadata_original_id": "https://www-genesis.destatis.de/genesis/online?sequenz=tabelleErgebnis&selectionname=12211-0112&regionalschluessel=", "contacts": "[{\"url\": \"\", \"address\": \"\", \"role\": \"autor\", \"email\": \"poststelle@destatis.de\", \"name\": \"Statistisches Bundesamt\"}, {\"url\": \"\", \"address\": \"\", \"role\": \"vertrieb\", \"email\": \"poststelle@destatis.de\", \"name\": \"Statistisches Bundesamt\"}]", "bbox-west-long": "5.87", "bbox-south-lat": "47.27", "bbox-east-long": "15.04", "bbox-north-lat": "55.06", "metadata_transforme": "author", "temporal_coverage_to": "", "terms_of_use": "{\"license_url\": \"http://www.daten-deutschland.de/bibliothek/Datenlizenz_Deutschland/dl-de-by-1.0\", \"is_free_to_use\": true, \"attribution_text\": \"Quelle Statistisches Bundesamt\"}", "temporal_granularity": "jahr", "spatial_reference": "{\"nuts\": \"DE\"}", "metadata_original_portal": "http://destatis.de/", "subgroups": "[\"12211 - Mikrozensus\"]"}, "license_url": "https://www.govdata.de/dl-de/by-1-0", "ratings_count": 0, "title": "Privathaushalte: Fr\u00fcheres Bundesgebiet / Neue L\u00e4nder, Jahre, Haushaltsgr\u00f6\u00dfe", "revision_id": "651a10eb-337c-4a36-821b-e5fcbcb03aae"}

var json2 =
{
   "anObject": {
      "numericProperty": 277,
      "stringProperty": "An mercy not possible",
      "nullProperty": null,
      "booleanProperty": true,
      "dateProperty": "2027-27-23"
   },
   "arrayOfObjects": [
      {
         "item": 7,
         "anotherArrayOfObjects": [
            {
               "aitem": 27
            }
         ],
      }
   ],
   "arrayOfIntegers": [
      1,
      2,
      3,
      4,
      5
   ]
}
var json3 =
{
   "anObject": {
      "numericProperty": -122,
      "stringProperty": "An offensive \" is problematic",
      "nullProperty": null,
      "booleanProperty": true,
      "dateProperty": "2011-09-23"
   },
   "arrayOfObjects": [
      {
         "item": 3,
         "anotherArrayOfObjects": [
            {
               "aitem": 23
            }
         ],
      }
   ],
   "arrayOfIntegers": [
      1,
      2,
      3,
      4,
      5
   ]
}
var json4 =
{
   "anObject": {
      "numericProperty": 277,
      "stringProperty": "An mercy not possible",
      "nullProperty": null,
      "booleanProperty": true,
      "dateProperty": "2027-27-23"
   },
   "arrayOfObjects": [
      {
         "item": 7,
         "anotherArrayOfObjects": [
            {
               "aitem": 27
            }
         ],
      }
   ],
   "arrayOfIntegers": [
      1,
      2,
      3,
      4,
      5
   ]
}
function json2KeyTree(json) {
  var html = ''
  for(var jso in json) {
    if(json[jso] !== null && typeof(json[jso]) === 'object') {
      html += '<div>&nbsp;</div>'
      html += '<div>' + json2KeyTree(json[jso]) + '</div>'
    }
    else {
     html += '<div class="val">'
     html += '<a href="' + json[jso]+ '">'
     html += json[jso]
     html += '</a>'
     html += '</div>'
    }
  }
  return html
}
function json2HtmlKeyTree(json) {
  var html = ''
  for(var jso in json) {
    html += '<div class="key">'
    if(json.hasOwnProperty(jso)) { html += jso }
    html += '</div>'
    if(json[jso] !== null && typeof(json[jso]) === 'object') {
      html += '<div>' + json2HtmlKeyTree(json[jso]) + '</div>'
    }
  }
  return html
}
function main() {
  var html = '<div class="json keys">'
    html += json2HtmlKeyTree(json2)
  html += '</div>'
/*
  html += '<div class="json vals">'
    html += json2KeyTree(json)
  html += '</div>'
*/
  html += '<div class="json vals">'
    html += json2KeyTree(json2)
  html += '</div>'
  html += '<div class="json vals">'
    html += json2KeyTree(json3)
  html += '</div>'
  html += '<div class="json vals">'
    html += json2KeyTree(json4)
  html += '</div>'
  $('body').html(html)
} (function ($) { $(document).ready(function() { main() }); })(jQuery);
